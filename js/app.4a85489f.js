(function(){var e={9550:function(e,t,n){"use strict";var a=n(9242),s=n(3396);function o(e,t,n,a,o,r){const i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(i)}var r={name:"App"},i=n(89);const u=(0,i.Z)(r,[["render",o]]);var l=u,d=n(1954),c={install:(e,t)=>{e.config.globalProperties.$ipfs=(0,d.Ue)(t)}},p=n(2483),m=n(7139);const y={class:"item",style:{display:"flex"}},w={class:"container"},b={key:1,class:"block"},h={key:1,class:"error"},f={key:2,class:"loader"};function g(e,t,n,a,o,r){const i=(0,s.up)("Ipfs"),u=(0,s.up)("Account"),l=(0,s.up)("app-header"),d=(0,s.up)("Messages");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s.Wm)(i,{class:"item",onStatus:t[0]||(t[0]=e=>o.ipfs=e)}),o.ready?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"item",onAccount:t[1]||(t[1]=e=>o.account=e),onAuditor:t[2]||(t[2]=e=>o.isAuditor=e)})):(0,s.kq)("",!0)])])),_:1}),(0,s._)("div",w,[o.ready?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[o.isAuditor?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"block",account:o.account},null,8,["account"])):((0,s.wg)(),(0,s.iD)("div",b,"For auditors only"))],64)):o.error?((0,s.wg)(),(0,s.iD)("div",h,(0,m.zw)(o.error),1)):((0,s.wg)(),(0,s.iD)("div",f,"..."))])],64)}const _={key:0,class:"label"},v={key:1,class:"label"},k={key:2,class:"label"},A=["title"];function D(e,t,n,a,o,r){return(0,s.wg)(),(0,s.iD)("div",null,[r.isOwner?((0,s.wg)(),(0,s.iD)("span",_,"Owner")):(0,s.kq)("",!0),o.isAuditor?((0,s.wg)(),(0,s.iD)("span",v,"Auditor")):o.account?((0,s.wg)(),(0,s.iD)("span",k,"User")):(0,s.kq)("",!0),(0,s._)("b",{title:o.account,class:"account"},(0,m.zw)(r.splitAccount),9,A),(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>r.changeAccount&&r.changeAccount(...e))},"Change account")])}var I={factory:"0:05e30bf3eae57adf9f5b6e45d4f55ffbb0dbf6e9b8d7441a67167631ce2675eb",asset:"0:d3a9051e2dfef4ff7effcb4aa42db2a9d8b8415cc2214e53b1a3e0f97195d444",explorer:"https://net.ever.live",topic:"airalab.lighthouse.5.robonomics.eth"},x=n(7945),C=JSON.parse('{"ABI version":2,"version":"2.2","header":["pubkey","time","expire"],"functions":[{"name":"constructor","inputs":[{"name":"owner","type":"address"},{"name":"deployValue","type":"uint128"},{"name":"rootCode","type":"cell"},{"name":"walletCode","type":"cell"},{"name":"rootUpgradeableCode","type":"cell"},{"name":"walletUpgradeableCode","type":"cell"},{"name":"platformCode","type":"cell"}],"outputs":[]},{"name":"isAuditor","inputs":[{"name":"answerId","type":"uint32"},{"name":"auditor","type":"address"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"addAuditor","inputs":[{"name":"auditor","type":"address"}],"outputs":[]},{"name":"removeAuditor","inputs":[{"name":"auditor","type":"address"}],"outputs":[]},{"name":"deployRoot","inputs":[{"name":"answerId","type":"uint32"},{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"decimals","type":"uint8"},{"name":"owner","type":"address"},{"name":"initialSupplyTo","type":"address"},{"name":"initialSupply","type":"uint128"},{"name":"deployWalletValue","type":"uint128"},{"name":"mintDisabled","type":"bool"},{"name":"burnByRootDisabled","type":"bool"},{"name":"burnPaused","type":"bool"},{"name":"remainingGasTo","type":"address"},{"name":"upgradeable","type":"bool"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"changeDeployValue","inputs":[{"name":"deployValue","type":"uint128"}],"outputs":[]},{"name":"changeRootCode","inputs":[{"name":"rootCode","type":"cell"}],"outputs":[]},{"name":"changeWalletCode","inputs":[{"name":"walletCode","type":"cell"}],"outputs":[]},{"name":"changeRootUpgradeableCode","inputs":[{"name":"rootUpgradeableCode","type":"cell"}],"outputs":[]},{"name":"changeWalletUpgradeableCode","inputs":[{"name":"walletUpgradeableCode","type":"cell"}],"outputs":[]},{"name":"changePlatformCode","inputs":[{"name":"platformCode","type":"cell"}],"outputs":[]},{"name":"transferOwner","inputs":[{"name":"owner","type":"address"}],"outputs":[]},{"name":"acceptOwner","inputs":[],"outputs":[]},{"name":"upgrade","inputs":[{"name":"code","type":"cell"}],"outputs":[]},{"name":"_owner","inputs":[],"outputs":[{"name":"_owner","type":"address"}]},{"name":"_pendingOwner","inputs":[],"outputs":[{"name":"_pendingOwner","type":"address"}]},{"name":"_tokenNonce","inputs":[],"outputs":[{"name":"_tokenNonce","type":"uint256"}]},{"name":"_deployValue","inputs":[],"outputs":[{"name":"_deployValue","type":"uint128"}]},{"name":"_rootCode","inputs":[],"outputs":[{"name":"_rootCode","type":"cell"}]},{"name":"_walletCode","inputs":[],"outputs":[{"name":"_walletCode","type":"cell"}]},{"name":"_rootUpgradeableCode","inputs":[],"outputs":[{"name":"_rootUpgradeableCode","type":"cell"}]},{"name":"_walletUpgradeableCode","inputs":[],"outputs":[{"name":"_walletUpgradeableCode","type":"cell"}]},{"name":"_platformCode","inputs":[],"outputs":[{"name":"_platformCode","type":"cell"}]}],"data":[{"key":1,"name":"_randomNonce","type":"uint256"}],"events":[{"name":"RootDeployed","inputs":[{"name":"root","type":"address"}],"outputs":[]}],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"_randomNonce","type":"uint256"},{"name":"_owner","type":"address"},{"name":"_pendingOwner","type":"address"},{"name":"_tokenNonce","type":"uint256"},{"name":"_deployValue","type":"uint128"},{"name":"_rootCode","type":"cell"},{"name":"_walletCode","type":"cell"},{"name":"_rootUpgradeableCode","type":"cell"},{"name":"_walletUpgradeableCode","type":"cell"},{"name":"_platformCode","type":"cell"},{"name":"_isAuditor","type":"map(address,bool)"}]}'),S=JSON.parse('{"ABI version":2,"version":"2.2","header":["pubkey","time","expire"],"functions":[{"name":"constructor","inputs":[{"name":"initialSupplyTo","type":"address"},{"name":"initialSupply","type":"uint128"},{"name":"deployWalletValue","type":"uint128"},{"name":"mintDisabled","type":"bool"},{"name":"burnByRootDisabled","type":"bool"},{"name":"burnPaused","type":"bool"},{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"supportsInterface","inputs":[{"name":"answerId","type":"uint32"},{"name":"interfaceID","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"disableMint","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"mintDisabled","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"burnTokens","inputs":[{"name":"amount","type":"uint128"},{"name":"walletOwner","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"disableBurnByRoot","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"burnByRootDisabled","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"burnPaused","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"setBurnPaused","inputs":[{"name":"answerId","type":"uint32"},{"name":"paused","type":"bool"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"transferOwnership","inputs":[{"name":"newOwner","type":"address"},{"name":"remainingGasTo","type":"address"},{"components":[{"name":"value","type":"uint128"},{"name":"payload","type":"cell"}],"name":"callbacks","type":"map(address,tuple)"}],"outputs":[]},{"name":"name","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"string"}]},{"name":"symbol","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"string"}]},{"name":"decimals","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint8"}]},{"name":"totalSupply","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint128"}]},{"name":"walletCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"cell"}]},{"name":"rootOwner","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"walletOf","inputs":[{"name":"answerId","type":"uint32"},{"name":"walletOwner","type":"address"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"deployWallet","inputs":[{"name":"answerId","type":"uint32"},{"name":"walletOwner","type":"address"},{"name":"deployWalletValue","type":"uint128"}],"outputs":[{"name":"tokenWallet","type":"address"}]},{"name":"mint","inputs":[{"name":"amount","type":"uint128"},{"name":"recipient","type":"address"},{"name":"deployWalletValue","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"acceptBurn","id":"0x192B51B1","inputs":[{"name":"amount","type":"uint128"},{"name":"walletOwner","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"sendSurplusGas","inputs":[{"name":"to","type":"address"}],"outputs":[]}],"data":[{"key":1,"name":"name_","type":"string"},{"key":2,"name":"symbol_","type":"string"},{"key":3,"name":"decimals_","type":"uint8"},{"key":4,"name":"rootOwner_","type":"address"},{"key":5,"name":"walletCode_","type":"cell"},{"key":6,"name":"randomNonce_","type":"uint256"},{"key":7,"name":"deployer_","type":"address"}],"events":[],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"name_","type":"string"},{"name":"symbol_","type":"string"},{"name":"decimals_","type":"uint8"},{"name":"rootOwner_","type":"address"},{"name":"walletCode_","type":"cell"},{"name":"totalSupply_","type":"uint128"},{"name":"burnPaused_","type":"bool"},{"name":"burnByRootDisabled_","type":"bool"},{"name":"mintDisabled_","type":"bool"},{"name":"randomNonce_","type":"uint256"},{"name":"deployer_","type":"address"}]}'),O=JSON.parse('{"ABI version":2,"version":"2.2","header":["pubkey","time","expire"],"functions":[{"name":"constructor","inputs":[],"outputs":[]},{"name":"supportsInterface","inputs":[{"name":"answerId","type":"uint32"},{"name":"interfaceID","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"destroy","inputs":[{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"burnByRoot","inputs":[{"name":"amount","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"burn","inputs":[{"name":"amount","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"balance","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint128"}]},{"name":"owner","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"root","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"walletCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"cell"}]},{"name":"transfer","inputs":[{"name":"amount","type":"uint128"},{"name":"recipient","type":"address"},{"name":"deployWalletValue","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"transferToWallet","inputs":[{"name":"amount","type":"uint128"},{"name":"recipientTokenWallet","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"acceptTransfer","id":"0x67A0B95F","inputs":[{"name":"amount","type":"uint128"},{"name":"sender","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"acceptMint","id":"0x4384F298","inputs":[{"name":"amount","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"sendSurplusGas","inputs":[{"name":"to","type":"address"}],"outputs":[]}],"data":[{"key":1,"name":"root_","type":"address"},{"key":2,"name":"owner_","type":"address"}],"events":[],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"root_","type":"address"},{"name":"owner_","type":"address"},{"name":"balance_","type":"uint128"}]}');let T;async function N(){if(T)return T;if(T=new x.ProviderRpcClient,!await T.hasProvider())throw new Error("Extension is not installed");return T}async function V(){if(!T)throw new Error("Provider not initialized");const{accountInteraction:e}=await T.requestPermissions({permissions:["basic","accountInteraction"]});if(null==e)throw new Error("Insufficient permissions");return e.address._address}async function B(){if(!T)throw new Error("Provider not initialized");await T.changeAccount()}function U(e){if(!T)throw new Error("Provider not initialized");const t=new x.Address(e);return new T.Contract(C,t)}async function G(e){const t=U(e),n=await t.methods._owner().call();return n._owner._address}async function P(e,t){const n=U(e),a=await n.methods.isAuditor({answerId:0,auditor:t}).call();return a.value0}async function q(e,t){const n=U(e);return await n.methods.addAuditor({auditor:new x.Address(t)}).send({from:await V(),amount:H(1)})}async function j(e,t,n){const a=U(e),s=await a.decodeInputMessage({body:n,methods:["deployRoot"],internal:!0});return!!s&&s.input.initialSupplyTo.equals(X(t))}async function Q(){return await new T.Subscriber}async function z(e,t,n,a){const s=U(t);return s.events(e).filter((e=>e.event===n&&e.transaction.inMessage.src.equals(X(a))))}async function W(e,t){const n=U(e),a=await n.methods.deployRoot(t).send({from:await V(),amount:H(4)});let s=new T.Subscriber,o=await s.trace(a).filter((e=>e.account._address==n.address.toString())).first(),r=await n.decodeTransactionEvents({transaction:o});return r[0].data.root}function M(e){if(!T)throw new Error("Provider not initialized");return new T.Contract(S,new x.Address(e))}async function R(e,t){const n=M(e);return(await n.methods.walletOf({answerId:0,walletOwner:t}).call()).value0.toString()}async function E(e){const t=M(e),n=(await t.methods.name({answerId:0}).call()).value0,a=(await t.methods.symbol({answerId:0}).call()).value0,s=(await t.methods.decimals({answerId:0}).call()).value0;return{name:n,symbol:a,decimals:s}}function Z(e){if(!T)throw new Error("Provider not initialized");return new T.Contract(O,new x.Address(e))}async function $(e,t){const n=await R(e,t),a=Z(n),s=await a.methods.balance({answerId:0}).call();return s.value0}async function F(e,t,n){const a=await R(e,t),s=Z(a),o=await s.methods.burn({amount:n,remainingGasTo:t,callbackTo:X("0:0000000000000000000000000000000000000000000000000000000000000000"),payload:""}).send({from:t,amount:H(1)});return o}async function J(e,t,n,a){const s=await M(e),o=await s.methods.mint({amount:a,recipient:n,deployWalletValue:0,remainingGasTo:t,notify:!1,payload:""}).send({from:t,amount:H(1)});return o}function Y(e,t=9){return(e/10**t).toString()}function H(e,t=9){return(e*10**t).toString()}function X(e){return new x.Address(e)}var L={data(){return{account:"",owner:"",isAuditor:!1}},async created(){await this.setAccount()},computed:{isOwner(){return!(!this.account||!this.owner||this.account!==this.owner)},splitAccount(){return this.account.substring(0,7)+"..."+this.account.substr(-5)}},watch:{account(e){this.$emit("account",e)},isOwner(e){this.$emit("owner",e)},isAuditor(e){this.$emit("auditor",e)}},methods:{async setAccount(){this.account=await V(),this.owner=await G(I.factory),this.isAuditor=await P(I.factory,this.account)},async changeAccount(){await B(),await this.setAccount()}}};const K=(0,i.Z)(L,[["render",D],["__scopeId","data-v-6fc9f88e"]]);var ee=K;const te={class:"header"},ne=(0,s._)("div",{class:"item"},[(0,s._)("h1",null,"dao IPCI everscale")],-1);function ae(e,t){return(0,s.wg)(),(0,s.iD)("div",te,[ne,(0,s.WI)(e.$slots,"default")])}const se={},oe=(0,i.Z)(se,[["render",ae]]);var re=oe;const ie=["title"];function ue(e,t,n,a,o,r){return(0,s.wg)(),(0,s.iD)("div",{title:o.id,class:(0,m.C_)([o.status?"success":"error"])},"IPFS",10,ie)}var le={data(){return{id:"",status:!1}},async created(){const e=await this.$ipfs;this.id=(await e.id()).id;const t=["QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8","QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9","QmWZSKTEQQ985mnNzMqhGCrwQ1aTA6sxVsorsycQz9cQrw"];setInterval((async()=>{let n=!1;const a=await e.pubsub.peers("airalab.lighthouse.5.robonomics.eth");for(const e of a)t.includes(e.toString())&&(n=!0);this.status=n,await e.swarm.connect("/dns4/1.pubsub.aira.life/tcp/443/wss/ipfs/QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8"),await e.swarm.connect("/dns4/2.pubsub.aira.life/tcp/443/wss/ipfs/QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9")}),3e3)},watch:{status(e){this.$emit("status",e)}}};const de=(0,i.Z)(le,[["render",ue],["__scopeId","data-v-12a6b50a"]]);var ce=de;const pe=(0,s._)("h3",null,"Messages",-1);function me(e,t,n,a,o,r){const i=(0,s.up)("Message");return(0,s.wg)(),(0,s.iD)("div",null,[pe,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.messages,((e,t)=>((0,s.wg)(),(0,s.j4)(i,{key:t,item:e,onSuccess:r.success,onRemove:r.remove},null,8,["item","onSuccess","onRemove"])))),128))])}n(7658);var ye=n(3029);const we={class:"request-message"},be=(0,s._)("td",{class:"text-right"},"User:",-1),he=["title"],fe=(0,s._)("td",{class:"text-right",style:{width:"200px"}},"Token:",-1),ge=(0,s._)("td",{class:"text-right"},"Log:",-1),_e={style:{}},ve={key:0},ke=(0,s._)("td",{class:"text-right"},"Created:",-1),Ae={class:"success"},De=["href","title"],Ie={key:1},xe={colspan:"2",class:"text-center"},Ce=["disabled"],Se=["disabled"],Oe={key:2},Te={colspan:"2",class:"text-center"},Ne={class:"error"};function Ve(e,t,n,a,o,r){return(0,s.wg)(),(0,s.iD)("div",we,[(0,s._)("table",null,[(0,s._)("tr",null,[be,(0,s._)("td",null,[(0,s._)("span",{title:n.item.user},(0,m.zw)(r.split(n.item.user)),9,he)])]),(0,s._)("tr",null,[fe,(0,s._)("td",null,[(0,s.Uk)((0,m.zw)(n.item.tokenName)+" ",1),(0,s._)("b",null,(0,m.zw)(n.item.tokenSymbol),1)])]),(0,s._)("tr",null,[ge,(0,s._)("td",_e,[(0,s._)("small",null,(0,m.zw)(n.item.log),1)])]),n.item.token?((0,s.wg)(),(0,s.iD)("tr",ve,[ke,(0,s._)("td",null,[(0,s._)("div",Ae,[(0,s._)("a",{href:`${r.tokenExplorer(n.item.token)}`,title:n.item.token,target:"_blank"},(0,m.zw)(r.split(n.item.token)),9,De)])])])):(0,s.kq)("",!0),n.item.token?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tr",Ie,[(0,s._)("td",xe,[(0,s._)("button",{onClick:t[0]||(t[0]=t=>e.$emit("success",n.item.id)),disabled:n.item.load}," ok ",8,Ce),(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.$emit("remove",n.item.id)),disabled:n.item.load,class:"error"}," remove ",8,Se)])])),n.item.error?((0,s.wg)(),(0,s.iD)("tr",Oe,[(0,s._)("td",Te,[(0,s._)("div",Ne,(0,m.zw)(n.item.error),1)])])):(0,s.kq)("",!0)])])}var Be={props:["item"],emits:["success"],computed:{tokenExplorer(){return e=>`${I.explorer}/accounts/accountDetails?id=${encodeURIComponent(e)}`},split(){return e=>e?e.substring(0,7)+"..."+e.substr(-5):""}}};const Ue=(0,i.Z)(Be,[["render",Ve]]);var Ge=Ue,Pe={props:["account"],components:{Message:Ge},data(){return{messages:[],initialSupply:"100"}},async created(){const e=await this.$ipfs;e.pubsub.subscribe(I.topic,(e=>{try{const{log:t,tokenName:n,tokenSymbol:a,auditor:s,user:o}=JSON.parse(Buffer.from(e.data).toString("utf8"));t&&n&&a&&s&&o&&s===this.account&&this.messages.push({id:(0,ye.Z)(),log:t,tokenName:n,tokenSymbol:a,auditor:s,user:o,load:!1,error:null})}catch(t){console.log(t)}}))},methods:{remove(e){this.messages=this.messages.filter((t=>t.id!==e))},async success(e){const t=this.messages.findIndex((t=>t.id===e));this.messages[t].load=!0,this.messages[t].error=null,await this.deploy(e),this.messages[t].load=!1},async deploy(e){const t=this.messages.findIndex((t=>t.id===e));try{const e=await W(I.factory,{answerId:0,name:this.messages[t].tokenName,symbol:this.messages[t].tokenSymbol,decimals:9,owner:this.account,initialSupplyTo:X(this.messages[t].user),initialSupply:H(this.initialSupply),deployWalletValue:H(.2),mintDisabled:!1,burnByRootDisabled:!1,burnPaused:!1,remainingGasTo:this.account,upgradeable:!1});this.messages[t].token=e.toString()}catch(n){this.messages[t].error=n.message}}}};const qe=(0,i.Z)(Pe,[["render",me]]);var je=qe,Qe={components:{AppHeader:re,Account:ee,Messages:je,Ipfs:ce},data(){return{ready:!1,account:"",isAuditor:!1,error:null,messages:[],ipfs:!1}},async created(){try{await N(),this.ready=!0}catch(e){this.error=e.message}}};const ze=(0,i.Z)(Qe,[["render",g]]);var We=ze;const Me={class:"item",style:{display:"flex"}},Re={class:"container"},Ee={key:1,class:"error"},Ze={key:2,class:"loader"};function $e(e,t,n,a,o,r){const i=(0,s.up)("Ipfs"),u=(0,s.up)("Account"),l=(0,s.up)("app-header"),d=(0,s.up)("AddAuditor"),c=(0,s.up)("Request"),p=(0,s.up)("Token");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s._)("div",Me,[(0,s.Wm)(i,{class:"item",onStatus:t[0]||(t[0]=e=>o.ipfs=e)}),o.ready?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"item",onAccount:t[1]||(t[1]=e=>o.account=e),onAuditor:t[2]||(t[2]=e=>o.isAuditor=e),onOwner:t[3]||(t[3]=e=>o.isOwner=e)})):(0,s.kq)("",!0)])])),_:1}),(0,s._)("div",Re,[o.ready?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[o.isOwner?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"block"})):(0,s.kq)("",!0),(0,s.Wm)(c,{class:"block",account:o.account,status:o.ipfs},null,8,["account","status"]),(0,s.Wm)(p,{class:"block",account:o.account,isAuditor:o.isAuditor},null,8,["account","isAuditor"])],64)):o.error?((0,s.wg)(),(0,s.iD)("div",Ee,(0,m.zw)(o.error),1)):((0,s.wg)(),(0,s.iD)("div",Ze,"..."))])],64)}const Fe=(0,s._)("h3",null,"Add auditor",-1),Je=(0,s._)("td",{class:"text-right",style:{width:"50%"}},"Address:",-1),Ye={colspan:"2",class:"text-center"},He=["disabled"],Xe={key:0,class:"success"},Le={key:1,class:"error"};function Ke(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",null,[Fe,(0,s._)("table",null,[(0,s._)("tr",null,[Je,(0,s._)("td",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newAuditorAddress=e)},null,512),[[a.nr,r.newAuditorAddress]])])]),(0,s._)("tr",null,[(0,s._)("td",Ye,[(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>i.submit&&i.submit(...e)),disabled:r.load},"Add",8,He)])])]),r.transaction?((0,s.wg)(),(0,s.iD)("div",Xe,(0,m.zw)(r.transaction),1)):(0,s.kq)("",!0),r.error?((0,s.wg)(),(0,s.iD)("div",Le,(0,m.zw)(r.error),1)):(0,s.kq)("",!0)])}var et={data(){return{newAuditorAddress:"",transaction:null,error:null,load:!1}},methods:{async check(){try{const e=await P(I.factory,this.newAuditorAddress);e&&(this.error="Already an auditor")}catch(e){this.error=e.message}},async add(){try{const e=await q(I.factory,this.newAuditorAddress);this.transaction=e.id.hash}catch(e){this.error=e.message}},async submit(){this.load=!0,this.transaction=null,this.error=null,await this.check(),this.error||await this.add(),this.load=!1}}};const tt=(0,i.Z)(et,[["render",Ke]]);var nt=tt;const at=(0,s._)("h3",null,"Request to create token",-1),st={key:0},ot=(0,s._)("td",{class:"text-right"},"Name:",-1),rt=(0,s._)("td",{class:"text-right"},"Symbol:",-1),it=(0,s._)("td",{class:"text-right"},"Log ipfs hash:",-1),ut=(0,s._)("td",{class:"text-right"},"Auditor:",-1),lt={colspan:"2",class:"text-center"},dt=["disabled"],ct={key:1,class:"success"},pt=["href"];function mt(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",null,[at,r.name?((0,s.wg)(),(0,s.iD)("table",st,[(0,s._)("tr",null,[ot,(0,s._)("td",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.name=e)},null,512),[[a.nr,r.name]])])]),(0,s._)("tr",null,[rt,(0,s._)("td",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.symbol=e)},null,512),[[a.nr,r.symbol]])])]),(0,s._)("tr",null,[it,(0,s._)("td",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.log=e)},null,512),[[a.nr,r.log]])])]),(0,s._)("tr",null,[ut,(0,s._)("td",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.auditor=e)},null,512),[[a.nr,r.auditor]])])]),(0,s._)("tr",null,[(0,s._)("td",lt,[(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>i.send&&i.send(...e)),disabled:!n.status},"send",8,dt)])])])):(0,s.kq)("",!0),r.token?((0,s.wg)(),(0,s.iD)("div",ct,[(0,s._)("a",{href:`${i.tokenExplorer(r.token)}`,target:"_blank"}," View explorer "+(0,m.zw)(r.token),9,pt)])):(0,s.kq)("",!0)])}var yt=n(5361),wt={props:["account","status"],data(){return{name:"TestAsset",symbol:"TST",log:"",auditor:"",load:!1,token:""}},computed:{tokenExplorer(){return e=>`${I.explorer}/accounts/accountDetails?id=${encodeURIComponent(e)}`}},methods:{async send(){this.token="",this.load=!0;const e=await this.$ipfs;e.pubsub.publish(I.topic,yt.Buffer.from(JSON.stringify({auditor:this.auditor,log:this.log,tokenName:this.name,tokenSymbol:this.symbol,user:this.account})));const t=await Q();(await z(t,I.factory,"RootDeployed",this.auditor)).on((async e=>{const n=await j(I.factory,this.account,e.transaction.inMessage.body);if(n)return this.token=e.data.root.toString(),this.load=!1,void await t.unsubscribe()}))}}};const bt=(0,i.Z)(wt,[["render",mt]]);var ht=bt;const ft=(0,s._)("h3",null,"Token",-1),gt={class:"text-center"},_t={key:0},vt=(0,s._)("td",{class:"text-right",style:{width:"50%"}},"Name:",-1),kt=(0,s._)("td",{class:"text-right"},"Balance:",-1);function At(e,t,n,o,r,i){const u=(0,s.up)("Mint"),l=(0,s.up)("Burn");return(0,s.wg)(),(0,s.iD)("div",null,[ft,(0,s._)("div",gt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.tokenAddress=e)},null,512),[[a.nr,r.tokenAddress]])]),r.name?((0,s.wg)(),(0,s.iD)("table",_t,[(0,s._)("tr",null,[vt,(0,s._)("td",null,[(0,s._)("b",null,(0,m.zw)(r.name),1)])]),(0,s._)("tr",null,[kt,(0,s._)("td",null,[(0,s._)("b",null,(0,m.zw)(i.balanceFormat)+" "+(0,m.zw)(r.symbol),1)])])])):(0,s.kq)("",!0),r.name&&n.isAuditor?((0,s.wg)(),(0,s.j4)(u,{key:1,account:n.account,token:r.tokenAddress,decimals:r.decimals,onMint:i.getBalance},null,8,["account","token","decimals","onMint"])):(0,s.kq)("",!0),r.name?((0,s.wg)(),(0,s.j4)(l,{key:2,account:n.account,token:r.tokenAddress,decimals:r.decimals,balance:r.balance,onBurn:i.getBalance},null,8,["account","token","decimals","balance","onBurn"])):(0,s.kq)("",!0)])}const Dt=(0,s._)("h4",null,"Burn",-1),It=(0,s._)("td",{class:"text-right",style:{width:"50%"}},"Amount:",-1),xt={colspan:"2",class:"text-center"},Ct=["disabled"],St={key:0,class:"error"};function Ot(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",null,[Dt,(0,s._)("table",null,[(0,s._)("tr",null,[It,(0,s._)("td",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.amount=e)},null,512),[[a.nr,r.amount]])])]),(0,s._)("tr",null,[(0,s._)("td",xt,[(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>i.burn&&i.burn(...e)),disabled:i.isDisabled},"burn",8,Ct)])])]),r.error?((0,s.wg)(),(0,s.iD)("div",St,(0,m.zw)(r.error),1)):(0,s.kq)("",!0)])}var Tt={props:["account","token","decimals","balance"],emits:["burn"],data(){return{amount:0,load:!1,error:null}},computed:{isDisabled(){return this.load||Number(this.balance)<=0||isNaN(Number(this.balance))||Number(this.amount)<=0||isNaN(Number(this.amount))||Number(this.balance)<H(this.amount,this.decimals)}},methods:{async burn(){this.load=!0,this.error=null;try{await F(this.token,this.account,H(this.amount,this.decimals)),this.$emit("burn")}catch(e){this.error=e.message}this.load=!1}}};const Nt=(0,i.Z)(Tt,[["render",Ot]]);var Vt=Nt;const Bt=(0,s._)("h4",null,"Mint",-1),Ut=(0,s._)("td",{class:"text-right",style:{width:"50%"}},"User:",-1),Gt=(0,s._)("td",{class:"text-right"},"Amount:",-1),Pt={colspan:"2",class:"text-center"},qt=["disabled"],jt={key:0,class:"error"};function Qt(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",null,[Bt,(0,s._)("table",null,[(0,s._)("tr",null,[Ut,(0,s._)("td",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.user=e)},null,512),[[a.nr,r.user]])])]),(0,s._)("tr",null,[Gt,(0,s._)("td",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.amount=e)},null,512),[[a.nr,r.amount]])])]),(0,s._)("tr",null,[(0,s._)("td",Pt,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>i.mint&&i.mint(...e)),disabled:i.isDisabled},"mint",8,qt)])])]),r.error?((0,s.wg)(),(0,s.iD)("div",jt,(0,m.zw)(r.error),1)):(0,s.kq)("",!0)])}var zt={props:["account","token","decimals"],emits:["mint"],data(){return{user:"",amount:0,load:!1,error:null}},computed:{isDisabled(){return this.load||!this.user||Number(this.amount)<=0||isNaN(Number(this.amount))}},methods:{async mint(){this.load=!0,this.error=null;try{await J(this.token,this.account,this.user,H(this.amount,this.decimals)),this.$emit("mint")}catch(e){this.error=e.message}this.load=!1}}};const Wt=(0,i.Z)(zt,[["render",Qt]]);var Mt=Wt,Rt={components:{Mint:Mt,Burn:Vt},props:["account","isAuditor"],data(){return{tokenAddress:I.asset,name:"",symbol:"",decimals:"",balance:""}},computed:{balanceFormat(){return Y(this.balance,this.decimals)}},created(){this.getInfo(),this.getBalance()},watch:{tokenAddress(){this.getInfo(),this.getBalance()},account(){this.getBalance()}},methods:{async getInfo(){this.name="",this.symbol="",this.decimals=0,this.balance=0;try{const e=await E(this.tokenAddress);this.name=e.name,this.symbol=e.symbol,this.decimals=e.decimals}catch(e){}},async getBalance(){this.balance=0;try{this.balance=await $(this.tokenAddress,this.account)}catch(e){}}}};const Et=(0,i.Z)(Rt,[["render",At]]);var Zt=Et,$t={components:{AppHeader:re,Account:ee,AddAuditor:nt,Token:Zt,Request:ht,Ipfs:ce},data(){return{ready:!1,account:"",isOwner:!1,isAuditor:!1,error:null,ipfs:!1}},async created(){try{await N(),this.ready=!0}catch(e){this.error=e.message}}};const Ft=(0,i.Z)($t,[["render",$e]]);var Jt=Ft;const Yt=(0,s._)("div",{class:"container"},[(0,s._)("h1",null,"Page Not Found")],-1);function Ht(e,t,n,a,o,r){const i=(0,s.up)("app-header");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),Yt],64)}var Xt={components:{AppHeader:re}};const Lt=(0,i.Z)(Xt,[["render",Ht]]);var Kt=Lt;const en=[{path:"/",name:"main",component:Jt},{path:"/agent",name:"agent",component:We},{path:"/:pathMatch(.*)*",component:Kt}],tn=(0,p.p7)({history:(0,p.r5)(),routes:en});var nn=tn;(0,a.ri)(l).use(nn).use(c,{config:{Addresses:{Swarm:["/dns4/1.webrtcstar.aira.life/tcp/443/wss/p2p-webrtc-star/","/dns4/2.webrtcstar.aira.life/tcp/443/wss/p2p-webrtc-star/","/dns4/3.webrtcstar.aira.life/tcp/443/wss/p2p-webrtc-star/"]},Bootstrap:["/dns4/1.pubsub.aira.life/tcp/443/wss/ipfs/QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8","/dns4/2.pubsub.aira.life/tcp/443/wss/ipfs/QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9","/dns4/3.pubsub.aira.life/tcp/443/wss/ipfs/QmWZSKTEQQ985mnNzMqhGCrwQ1aTA6sxVsorsycQz9cQrw"]}}).mount("#app")},7420:function(){},5856:function(){},5883:function(){},2596:function(){},3897:function(){},5819:function(){},1265:function(){},5539:function(){}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,s,o){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],o=e[d][2];for(var i=!0,u=0;u<a.length;u++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,s,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var o=Object.create(null);n.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){r[e]=function(){return a[e]}}));return r["default"]=function(){return a},n.d(o,r),o}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,r=a[0],i=a[1],u=a[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(u)var d=u(n)}for(t&&t(a);l<r.length;l++)o=r[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self["webpackChunkdapp_dao_ipci_everscale"]=self["webpackChunkdapp_dao_ipci_everscale"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(9550)}));a=n.O(a)})();
//# sourceMappingURL=app.4a85489f.js.map