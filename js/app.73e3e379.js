(function(){var e={7130:function(e,t,n){"use strict";var a=n(9242),s=n(3396);function o(e,t,n,a,o,r){const i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(i)}var r={name:"App"},i=n(89);const u=(0,i.Z)(r,[["render",o]]);var l=u,d=n(1954),c={install:(e,t)=>{e.config.globalProperties.$ipfs=(0,d.Ue)(t)}},p=n(2483),m=n(7139);const y={class:"item",style:{display:"flex"}},w={class:"container"},b={key:1,class:"block"},h={key:1,class:"error"},f={key:2,class:"loader"};function g(e,t,n,a,o,r){const i=(0,s.up)("Ipfs"),u=(0,s.up)("Account"),l=(0,s.up)("app-header"),d=(0,s.up)("Messages");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s.Wm)(i,{class:"item",onStatus:t[0]||(t[0]=e=>o.ipfs=e)}),o.ready?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"item",onAccount:t[1]||(t[1]=e=>o.account=e),onAuditor:t[2]||(t[2]=e=>o.isAuditor=e)})):(0,s.kq)("",!0)])])),_:1}),(0,s._)("div",w,[o.ready?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[o.isAuditor?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"block",account:o.account},null,8,["account"])):((0,s.wg)(),(0,s.iD)("div",b,"For auditors only"))],64)):o.error?((0,s.wg)(),(0,s.iD)("div",h,(0,m.zw)(o.error),1)):((0,s.wg)(),(0,s.iD)("div",f,"..."))])],64)}const _={key:0,class:"label"},v={key:1,class:"label"},k={key:2,class:"label"},A=["title"];function T(e,t,n,a,o,r){return(0,s.wg)(),(0,s.iD)("div",null,[r.isOwner?((0,s.wg)(),(0,s.iD)("span",_,"Owner")):(0,s.kq)("",!0),o.isAuditor?((0,s.wg)(),(0,s.iD)("span",v,"Auditor")):o.account?((0,s.wg)(),(0,s.iD)("span",k,"User")):(0,s.kq)("",!0),(0,s._)("b",{title:o.account,class:"account"},(0,m.zw)(r.splitAccount),9,A),(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>r.changeAccount&&r.changeAccount(...e))},"Change account")])}var S={factory:"0:05e30bf3eae57adf9f5b6e45d4f55ffbb0dbf6e9b8d7441a67167631ce2675eb",asset:"",explorer:"https://net.ever.live",topic:"airalab.lighthouse.5.robonomics.eth"},D=n(7945),I=JSON.parse('{"ABI version":2,"version":"2.2","header":["pubkey","time","expire"],"functions":[{"name":"constructor","inputs":[{"name":"owner","type":"address"},{"name":"deployValue","type":"uint128"},{"name":"rootCode","type":"cell"},{"name":"walletCode","type":"cell"},{"name":"rootUpgradeableCode","type":"cell"},{"name":"walletUpgradeableCode","type":"cell"},{"name":"platformCode","type":"cell"}],"outputs":[]},{"name":"isAuditor","inputs":[{"name":"answerId","type":"uint32"},{"name":"auditor","type":"address"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"addAuditor","inputs":[{"name":"auditor","type":"address"}],"outputs":[]},{"name":"removeAuditor","inputs":[{"name":"auditor","type":"address"}],"outputs":[]},{"name":"deployRoot","inputs":[{"name":"answerId","type":"uint32"},{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"decimals","type":"uint8"},{"name":"owner","type":"address"},{"name":"initialSupplyTo","type":"address"},{"name":"initialSupply","type":"uint128"},{"name":"deployWalletValue","type":"uint128"},{"name":"mintDisabled","type":"bool"},{"name":"burnByRootDisabled","type":"bool"},{"name":"burnPaused","type":"bool"},{"name":"remainingGasTo","type":"address"},{"name":"upgradeable","type":"bool"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"changeDeployValue","inputs":[{"name":"deployValue","type":"uint128"}],"outputs":[]},{"name":"changeRootCode","inputs":[{"name":"rootCode","type":"cell"}],"outputs":[]},{"name":"changeWalletCode","inputs":[{"name":"walletCode","type":"cell"}],"outputs":[]},{"name":"changeRootUpgradeableCode","inputs":[{"name":"rootUpgradeableCode","type":"cell"}],"outputs":[]},{"name":"changeWalletUpgradeableCode","inputs":[{"name":"walletUpgradeableCode","type":"cell"}],"outputs":[]},{"name":"changePlatformCode","inputs":[{"name":"platformCode","type":"cell"}],"outputs":[]},{"name":"transferOwner","inputs":[{"name":"owner","type":"address"}],"outputs":[]},{"name":"acceptOwner","inputs":[],"outputs":[]},{"name":"upgrade","inputs":[{"name":"code","type":"cell"}],"outputs":[]},{"name":"_owner","inputs":[],"outputs":[{"name":"_owner","type":"address"}]},{"name":"_pendingOwner","inputs":[],"outputs":[{"name":"_pendingOwner","type":"address"}]},{"name":"_tokenNonce","inputs":[],"outputs":[{"name":"_tokenNonce","type":"uint256"}]},{"name":"_deployValue","inputs":[],"outputs":[{"name":"_deployValue","type":"uint128"}]},{"name":"_rootCode","inputs":[],"outputs":[{"name":"_rootCode","type":"cell"}]},{"name":"_walletCode","inputs":[],"outputs":[{"name":"_walletCode","type":"cell"}]},{"name":"_rootUpgradeableCode","inputs":[],"outputs":[{"name":"_rootUpgradeableCode","type":"cell"}]},{"name":"_walletUpgradeableCode","inputs":[],"outputs":[{"name":"_walletUpgradeableCode","type":"cell"}]},{"name":"_platformCode","inputs":[],"outputs":[{"name":"_platformCode","type":"cell"}]}],"data":[{"key":1,"name":"_randomNonce","type":"uint256"}],"events":[{"name":"RootDeployed","inputs":[{"name":"root","type":"address"}],"outputs":[]}],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"_randomNonce","type":"uint256"},{"name":"_owner","type":"address"},{"name":"_pendingOwner","type":"address"},{"name":"_tokenNonce","type":"uint256"},{"name":"_deployValue","type":"uint128"},{"name":"_rootCode","type":"cell"},{"name":"_walletCode","type":"cell"},{"name":"_rootUpgradeableCode","type":"cell"},{"name":"_walletUpgradeableCode","type":"cell"},{"name":"_platformCode","type":"cell"},{"name":"_isAuditor","type":"map(address,bool)"}]}'),C=JSON.parse('{"ABI version":2,"version":"2.2","header":["pubkey","time","expire"],"functions":[{"name":"constructor","inputs":[{"name":"initialSupplyTo","type":"address"},{"name":"initialSupply","type":"uint128"},{"name":"deployWalletValue","type":"uint128"},{"name":"mintDisabled","type":"bool"},{"name":"burnByRootDisabled","type":"bool"},{"name":"burnPaused","type":"bool"},{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"supportsInterface","inputs":[{"name":"answerId","type":"uint32"},{"name":"interfaceID","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"disableMint","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"mintDisabled","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"burnTokens","inputs":[{"name":"amount","type":"uint128"},{"name":"walletOwner","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"disableBurnByRoot","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"burnByRootDisabled","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"burnPaused","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"setBurnPaused","inputs":[{"name":"answerId","type":"uint32"},{"name":"paused","type":"bool"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"transferOwnership","inputs":[{"name":"newOwner","type":"address"},{"name":"remainingGasTo","type":"address"},{"components":[{"name":"value","type":"uint128"},{"name":"payload","type":"cell"}],"name":"callbacks","type":"map(address,tuple)"}],"outputs":[]},{"name":"name","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"string"}]},{"name":"symbol","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"string"}]},{"name":"decimals","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint8"}]},{"name":"totalSupply","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint128"}]},{"name":"walletCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"cell"}]},{"name":"rootOwner","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"walletOf","inputs":[{"name":"answerId","type":"uint32"},{"name":"walletOwner","type":"address"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"deployWallet","inputs":[{"name":"answerId","type":"uint32"},{"name":"walletOwner","type":"address"},{"name":"deployWalletValue","type":"uint128"}],"outputs":[{"name":"tokenWallet","type":"address"}]},{"name":"mint","inputs":[{"name":"amount","type":"uint128"},{"name":"recipient","type":"address"},{"name":"deployWalletValue","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"acceptBurn","id":"0x192B51B1","inputs":[{"name":"amount","type":"uint128"},{"name":"walletOwner","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"sendSurplusGas","inputs":[{"name":"to","type":"address"}],"outputs":[]}],"data":[{"key":1,"name":"name_","type":"string"},{"key":2,"name":"symbol_","type":"string"},{"key":3,"name":"decimals_","type":"uint8"},{"key":4,"name":"rootOwner_","type":"address"},{"key":5,"name":"walletCode_","type":"cell"},{"key":6,"name":"randomNonce_","type":"uint256"},{"key":7,"name":"deployer_","type":"address"}],"events":[],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"name_","type":"string"},{"name":"symbol_","type":"string"},{"name":"decimals_","type":"uint8"},{"name":"rootOwner_","type":"address"},{"name":"walletCode_","type":"cell"},{"name":"totalSupply_","type":"uint128"},{"name":"burnPaused_","type":"bool"},{"name":"burnByRootDisabled_","type":"bool"},{"name":"mintDisabled_","type":"bool"},{"name":"randomNonce_","type":"uint256"},{"name":"deployer_","type":"address"}]}'),O=JSON.parse('{"ABI version":2,"version":"2.2","header":["pubkey","time","expire"],"functions":[{"name":"constructor","inputs":[],"outputs":[]},{"name":"supportsInterface","inputs":[{"name":"answerId","type":"uint32"},{"name":"interfaceID","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"destroy","inputs":[{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"burnByRoot","inputs":[{"name":"amount","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"burn","inputs":[{"name":"amount","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"balance","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint128"}]},{"name":"owner","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"root","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"walletCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"cell"}]},{"name":"transfer","inputs":[{"name":"amount","type":"uint128"},{"name":"recipient","type":"address"},{"name":"deployWalletValue","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"transferToWallet","inputs":[{"name":"amount","type":"uint128"},{"name":"recipientTokenWallet","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"acceptTransfer","id":"0x67A0B95F","inputs":[{"name":"amount","type":"uint128"},{"name":"sender","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"acceptMint","id":"0x4384F298","inputs":[{"name":"amount","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"sendSurplusGas","inputs":[{"name":"to","type":"address"}],"outputs":[]}],"data":[{"key":1,"name":"root_","type":"address"},{"key":2,"name":"owner_","type":"address"}],"events":[],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"root_","type":"address"},{"name":"owner_","type":"address"},{"name":"balance_","type":"uint128"}]}');let x;async function N(){if(x)return x;if(x=new D.ProviderRpcClient,!await x.hasProvider())throw new Error("Extension is not installed");return x}async function V(){if(!x)throw new Error("Provider not initialized");const{accountInteraction:e}=await x.requestPermissions({permissions:["basic","accountInteraction"]});if(null==e)throw new Error("Insufficient permissions");return e.address._address}async function U(){if(!x)throw new Error("Provider not initialized");await x.changeAccount()}function B(e){if(!x)throw new Error("Provider not initialized");const t=new D.Address(e);return new x.Contract(I,t)}async function P(e){const t=B(e),n=await t.methods._owner().call();return n._owner._address}async function G(e,t){const n=B(e),a=await n.methods.isAuditor({answerId:0,auditor:t}).call();return a.value0}async function q(e,t){const n=B(e);return await n.methods.addAuditor({auditor:new D.Address(t)}).send({from:await V(),amount:X(1)})}async function j(e,t,n){const a=B(e),s=await a.decodeInputMessage({body:n,methods:["deployRoot"],internal:!0});return!!s&&s.input.initialSupplyTo.equals(L(t))}async function z(){return await new x.Subscriber}async function M(e,t,n,a){const s=B(t);return s.events(e).filter((e=>e.event===n&&e.transaction.inMessage.src.equals(L(a))))}async function Q(e){const t=B(e);return t.getPastEvents({})}async function W(e,t){const n=B(e),a=await n.methods.deployRoot(t).send({from:await V(),amount:X(4)});let s=new x.Subscriber,o=await s.trace(a).filter((e=>e.account._address==n.address.toString())).first(),r=await n.decodeTransactionEvents({transaction:o});return r[0].data.root}function R(e){if(!x)throw new Error("Provider not initialized");return new x.Contract(C,new D.Address(e))}async function $(e,t){const n=R(e);return(await n.methods.walletOf({answerId:0,walletOwner:t}).call()).value0.toString()}async function E(e){const t=R(e),n=(await t.methods.name({answerId:0}).call()).value0,a=(await t.methods.symbol({answerId:0}).call()).value0,s=(await t.methods.decimals({answerId:0}).call()).value0;return{name:n,symbol:a,decimals:s}}function Z(e){if(!x)throw new Error("Provider not initialized");return new x.Contract(O,new D.Address(e))}async function J(e,t){const n=await $(e,t),a=Z(n),s=await a.methods.balance({answerId:0}).call();return s.value0}async function F(e,t,n){const a=await $(e,t),s=Z(a),o=await s.methods.burn({amount:n,remainingGasTo:t,callbackTo:L("0:0000000000000000000000000000000000000000000000000000000000000000"),payload:""}).send({from:t,amount:X(1)});return o}async function Y(e,t,n,a){const s=await R(e),o=await s.methods.mint({amount:a,recipient:n,deployWalletValue:0,remainingGasTo:t,notify:!1,payload:""}).send({from:t,amount:X(1)});return o}function H(e,t=9){return(e/10**t).toString()}function X(e,t=9){return(e*10**t).toString()}function L(e){return new D.Address(e)}var K={data(){return{account:"",owner:"",isAuditor:!1}},async created(){await this.setAccount()},computed:{isOwner(){return!(!this.account||!this.owner||this.account!==this.owner)},splitAccount(){return this.account.substring(0,7)+"..."+this.account.substr(-5)}},watch:{account(e){this.$emit("account",e)},isOwner(e){this.$emit("owner",e)},isAuditor(e){this.$emit("auditor",e)}},methods:{async setAccount(){this.account=await V(),this.owner=await P(S.factory),this.isAuditor=await G(S.factory,this.account)},async changeAccount(){await U(),await this.setAccount()}}};const ee=(0,i.Z)(K,[["render",T],["__scopeId","data-v-6fc9f88e"]]);var te=ee;const ne={class:"header"},ae=(0,s._)("div",{class:"item"},[(0,s._)("h1",null,"dao IPCI everscale")],-1);function se(e,t){return(0,s.wg)(),(0,s.iD)("div",ne,[ae,(0,s.WI)(e.$slots,"default")])}const oe={},re=(0,i.Z)(oe,[["render",se]]);var ie=re;const ue=["title"];function le(e,t,n,a,o,r){return(0,s.wg)(),(0,s.iD)("div",{title:o.id,class:(0,m.C_)([o.status?"success":"error"])},"IPFS",10,ue)}var de={data(){return{id:"",status:!1}},async created(){const e=await this.$ipfs;this.id=(await e.id()).id;const t=["QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8","QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9","QmWZSKTEQQ985mnNzMqhGCrwQ1aTA6sxVsorsycQz9cQrw"];setInterval((async()=>{let n=!1;const a=await e.pubsub.peers("airalab.lighthouse.5.robonomics.eth");for(const e of a)t.includes(e.toString())&&(n=!0);this.status=n,await e.swarm.connect("/dns4/1.pubsub.aira.life/tcp/443/wss/ipfs/QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8"),await e.swarm.connect("/dns4/2.pubsub.aira.life/tcp/443/wss/ipfs/QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9")}),3e3)},watch:{status(e){this.$emit("status",e)}}};const ce=(0,i.Z)(de,[["render",le],["__scopeId","data-v-12a6b50a"]]);var pe=ce;const me=(0,s._)("h3",null,"Messages",-1);function ye(e,t,n,a,o,r){const i=(0,s.up)("Message");return(0,s.wg)(),(0,s.iD)("div",null,[me,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.messages,((e,t)=>((0,s.wg)(),(0,s.j4)(i,{key:t,item:e,onSuccess:r.success,onRemove:r.remove},null,8,["item","onSuccess","onRemove"])))),128))])}n(541);var we=n(3029);const be={class:"request-message"},he=(0,s._)("td",{class:"text-right"},"User:",-1),fe=["title"],ge=(0,s._)("td",{class:"text-right",style:{width:"200px"}},"Token:",-1),_e=(0,s._)("td",{class:"text-right"},"Log:",-1),ve={style:{}},ke=["href"],Ae={key:0},Te=(0,s._)("td",{class:"text-right"},"Initial supply:",-1),Se={style:{}},De={key:1},Ie=(0,s._)("td",{class:"text-right"},"Created:",-1),Ce={class:"success"},Oe=["href","title"],xe={key:2},Ne={colspan:"2",class:"text-center"},Ve=["disabled"],Ue=["disabled"],Be={key:3},Pe={colspan:"2",class:"text-center"},Ge={class:"error"};function qe(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",be,[(0,s._)("table",null,[(0,s._)("tr",null,[he,(0,s._)("td",null,[(0,s._)("span",{title:n.item.user},(0,m.zw)(i.split(n.item.user)),9,fe)])]),(0,s._)("tr",null,[ge,(0,s._)("td",null,[(0,s.Uk)((0,m.zw)(n.item.tokenName)+" ",1),(0,s._)("b",null,(0,m.zw)(n.item.tokenSymbol),1)])]),(0,s._)("tr",null,[_e,(0,s._)("td",ve,[(0,s._)("small",null,[(0,s._)("a",{href:`https://ipfs.io/ipfs/${n.item.log}`,target:"_blank"},(0,m.zw)(n.item.log),9,ke)])])]),n.item.token?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tr",Ae,[Te,(0,s._)("td",Se,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.initialSupply=e)},null,512),[[a.nr,r.initialSupply]])])])),n.item.token?((0,s.wg)(),(0,s.iD)("tr",De,[Ie,(0,s._)("td",null,[(0,s._)("div",Ce,[(0,s._)("a",{href:`${i.tokenExplorer(n.item.token)}`,title:n.item.token,target:"_blank"},(0,m.zw)(i.split(n.item.token)),9,Oe)])])])):(0,s.kq)("",!0),n.item.token?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tr",xe,[(0,s._)("td",Ne,[(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.$emit("success",{id:n.item.id,initialSupply:r.initialSupply})),disabled:n.item.load}," ok ",8,Ve),(0,s._)("button",{onClick:t[2]||(t[2]=t=>e.$emit("remove",n.item.id)),disabled:n.item.load,class:"error"}," remove ",8,Ue)])])),n.item.error?((0,s.wg)(),(0,s.iD)("tr",Be,[(0,s._)("td",Pe,[(0,s._)("div",Ge,(0,m.zw)(n.item.error),1)])])):(0,s.kq)("",!0)])])}var je={props:["item"],emits:["success"],data(){return{initialSupply:"100"}},computed:{tokenExplorer(){return e=>`${S.explorer}/accounts/accountDetails?id=${encodeURIComponent(e)}`},split(){return e=>e?e.substring(0,7)+"..."+e.substr(-5):""}}};const ze=(0,i.Z)(je,[["render",qe]]);var Me=ze,Qe={props:["account"],components:{Message:Me},data(){return{messages:[]}},async created(){const e=localStorage.getItem("messages");try{this.messages=JSON.parse(e)}catch(n){this.messages=[]}const t=await this.$ipfs;t.pubsub.subscribe(S.topic,(e=>{try{const{log:t,tokenName:n,tokenSymbol:a,auditor:s,user:o}=JSON.parse(Buffer.from(e.data).toString("utf8"));t&&n&&a&&s&&o&&s===this.account&&this.messages.unshift({id:(0,we.Z)(),log:t,tokenName:n,tokenSymbol:a,auditor:s,user:o,load:!1,error:null})}catch(n){console.log(n)}}))},watch:{messages:{handler(e){localStorage.setItem("messages",JSON.stringify(e))},deep:!0}},methods:{remove(e){this.messages=this.messages.filter((t=>t.id!==e))},async success(e){const t=this.messages.findIndex((t=>t.id===e.id));this.messages[t].load=!0,this.messages[t].error=null,await this.deploy(e.id,e.initialSupply),this.messages[t].load=!1},async deploy(e,t){const n=this.messages.findIndex((t=>t.id===e));try{const e=await W(S.factory,{answerId:0,name:this.messages[n].tokenName,symbol:this.messages[n].tokenSymbol,decimals:9,owner:this.account,initialSupplyTo:L(this.messages[n].user),initialSupply:X(t),deployWalletValue:X(.2),mintDisabled:!1,burnByRootDisabled:!1,burnPaused:!1,remainingGasTo:this.account,upgradeable:!1});this.messages[n].token=e.toString()}catch(a){this.messages[n].error=a.message}}}};const We=(0,i.Z)(Qe,[["render",ye]]);var Re=We,$e={components:{AppHeader:ie,Account:te,Messages:Re,Ipfs:pe},data(){return{ready:!1,account:"",isAuditor:!1,error:null,messages:[],ipfs:!1}},async created(){try{await N(),this.ready=!0}catch(e){this.error=e.message}}};const Ee=(0,i.Z)($e,[["render",g]]);var Ze=Ee;const Je={class:"item",style:{display:"flex"}},Fe={class:"container"},Ye={key:1,class:"error"},He={key:2,class:"loader"};function Xe(e,t,n,a,o,r){const i=(0,s.up)("Ipfs"),u=(0,s.up)("Account"),l=(0,s.up)("app-header"),d=(0,s.up)("AddAuditor"),c=(0,s.up)("Request"),p=(0,s.up)("Token");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s._)("div",Je,[(0,s.Wm)(i,{class:"item",onStatus:t[0]||(t[0]=e=>o.ipfs=e)}),o.ready?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"item",onAccount:t[1]||(t[1]=e=>o.account=e),onAuditor:t[2]||(t[2]=e=>o.isAuditor=e),onOwner:t[3]||(t[3]=e=>o.isOwner=e)})):(0,s.kq)("",!0)])])),_:1}),(0,s._)("div",Fe,[o.ready?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[o.isOwner?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"block"})):(0,s.kq)("",!0),(0,s.Wm)(c,{class:"block",account:o.account,status:o.ipfs,onNewToken:t[4]||(t[4]=t=>e.$refs.Token.getTokens())},null,8,["account","status"]),(0,s.Wm)(p,{ref:"Token",class:"block",account:o.account,isAuditor:o.isAuditor},null,8,["account","isAuditor"])],64)):o.error?((0,s.wg)(),(0,s.iD)("div",Ye,(0,m.zw)(o.error),1)):((0,s.wg)(),(0,s.iD)("div",He,"..."))])],64)}const Le=(0,s._)("h3",null,"Add auditor",-1),Ke={class:"input"},et=(0,s._)("label",null,"Address:",-1),tt={class:"text-center"},nt=["disabled"],at={key:0,class:"success"},st={key:1,class:"error"};function ot(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",null,[Le,(0,s._)("div",Ke,[et,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newAuditorAddress=e)},null,512),[[a.nr,r.newAuditorAddress]])]),(0,s._)("div",tt,[(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>i.submit&&i.submit(...e)),disabled:r.load},"Add",8,nt)]),r.transaction?((0,s.wg)(),(0,s.iD)("div",at,(0,m.zw)(r.transaction),1)):(0,s.kq)("",!0),r.error?((0,s.wg)(),(0,s.iD)("div",st,(0,m.zw)(r.error),1)):(0,s.kq)("",!0)])}var rt={data(){return{newAuditorAddress:"",transaction:null,error:null,load:!1}},methods:{async check(){try{const e=await G(S.factory,this.newAuditorAddress);e&&(this.error="Already an auditor")}catch(e){this.error=e.message}},async add(){try{const e=await q(S.factory,this.newAuditorAddress);this.transaction=e.id.hash}catch(e){this.error=e.message}},async submit(){this.load=!0,this.transaction=null,this.error=null,await this.check(),this.error||await this.add(),this.load=!1}}};const it=(0,i.Z)(rt,[["render",ot]]);var ut=it;const lt=(0,s._)("h3",null,"Request to create token",-1),dt={class:"input"},ct=(0,s._)("label",null,"Name:",-1),pt={class:"input"},mt=(0,s._)("label",null,"Symbol:",-1),yt={class:"input"},wt=(0,s._)("label",null,"Log ipfs hash:",-1),bt={class:"input"},ht=(0,s._)("label",null,"Auditor:",-1),ft={class:"text-center"},gt=["disabled"],_t={key:0,class:"success"},vt=["href"];function kt(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",null,[lt,(0,s._)("div",dt,[ct,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.name=e)},null,512),[[a.nr,r.name]])]),(0,s._)("div",pt,[mt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.symbol=e)},null,512),[[a.nr,r.symbol]])]),(0,s._)("div",yt,[wt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.log=e)},null,512),[[a.nr,r.log]])]),(0,s._)("div",bt,[ht,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.auditor=e)},null,512),[[a.nr,r.auditor]])]),(0,s._)("div",ft,[(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>i.send&&i.send(...e)),disabled:!n.status},"send",8,gt)]),r.token?((0,s.wg)(),(0,s.iD)("div",_t,[(0,s._)("a",{href:`${i.tokenExplorer(r.token)}`,target:"_blank"}," View explorer "+(0,m.zw)(r.token),9,vt)])):(0,s.kq)("",!0)])}var At=n(5361),Tt={props:["account","status"],emits:["newToken"],data(){return{name:"TestAsset",symbol:"TST",log:"",auditor:"",load:!1,token:""}},computed:{tokenExplorer(){return e=>`${S.explorer}/accounts/accountDetails?id=${encodeURIComponent(e)}`}},methods:{async send(){this.token="",this.load=!0;const e=await this.$ipfs;e.pubsub.publish(S.topic,At.Buffer.from(JSON.stringify({auditor:this.auditor,log:this.log,tokenName:this.name,tokenSymbol:this.symbol,user:this.account})));const t=await z();(await M(t,S.factory,"RootDeployed",this.auditor)).on((async e=>{const n=await j(S.factory,this.account,e.transaction.inMessage.body);if(n)return this.token=e.data.root.toString(),this.load=!1,this.$emit("newToken",this.token),void await t.unsubscribe()}))}}};const St=(0,i.Z)(Tt,[["render",kt]]);var Dt=St;const It=(0,s._)("h3",null,"Token",-1),Ct={class:"text-center"},Ot=["value"],xt={key:0},Nt=(0,s._)("td",{class:"text-right",style:{width:"50%"}},"Name:",-1),Vt=(0,s._)("td",{class:"text-right"},"Balance:",-1);function Ut(e,t,n,o,r,i){const u=(0,s.up)("Mint"),l=(0,s.up)("Burn");return(0,s.wg)(),(0,s.iD)("div",null,[It,(0,s._)("div",Ct,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.selectTokenAddress=e)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.tokens,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:e},(0,m.zw)(e),9,Ot)))),128))],512),[[a.bM,r.selectTokenAddress]]),"other"===r.selectTokenAddress?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,"onUpdate:modelValue":t[1]||(t[1]=e=>r.tokenAddress=e)},null,512)),[[a.nr,r.tokenAddress]]):(0,s.kq)("",!0)]),r.name?((0,s.wg)(),(0,s.iD)("table",xt,[(0,s._)("tr",null,[Nt,(0,s._)("td",null,[(0,s._)("b",null,(0,m.zw)(r.name),1)])]),(0,s._)("tr",null,[Vt,(0,s._)("td",null,[(0,s._)("b",null,(0,m.zw)(i.balanceFormat)+" "+(0,m.zw)(r.symbol),1)])])])):(0,s.kq)("",!0),r.name&&n.isAuditor?((0,s.wg)(),(0,s.j4)(u,{key:1,account:n.account,token:r.tokenAddress,decimals:r.decimals,onMint:i.getBalance},null,8,["account","token","decimals","onMint"])):(0,s.kq)("",!0),r.name?((0,s.wg)(),(0,s.j4)(l,{key:2,account:n.account,token:r.tokenAddress,decimals:r.decimals,balance:r.balance,onBurn:i.getBalance},null,8,["account","token","decimals","balance","onBurn"])):(0,s.kq)("",!0)])}n(7658);const Bt=(0,s._)("h4",null,"Burn",-1),Pt={class:"input"},Gt=(0,s._)("label",null,"Amount:",-1),qt={class:"text-center"},jt=["disabled"],zt={key:0,class:"error"};function Mt(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",null,[Bt,(0,s._)("div",Pt,[Gt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.amount=e)},null,512),[[a.nr,r.amount]])]),(0,s._)("div",qt,[(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>i.burn&&i.burn(...e)),disabled:i.isDisabled},"burn",8,jt)]),r.error?((0,s.wg)(),(0,s.iD)("div",zt,(0,m.zw)(r.error),1)):(0,s.kq)("",!0)])}var Qt={props:["account","token","decimals","balance"],emits:["burn"],data(){return{amount:0,load:!1,error:null}},computed:{isDisabled(){return this.load||Number(this.balance)<=0||isNaN(Number(this.balance))||Number(this.amount)<=0||isNaN(Number(this.amount))||Number(this.balance)<X(this.amount,this.decimals)}},methods:{async burn(){this.load=!0,this.error=null;try{await F(this.token,this.account,X(this.amount,this.decimals)),this.$emit("burn")}catch(e){this.error=e.message}this.load=!1}}};const Wt=(0,i.Z)(Qt,[["render",Mt]]);var Rt=Wt;const $t=(0,s._)("h4",null,"Mint",-1),Et={class:"input"},Zt=(0,s._)("label",null,"User:",-1),Jt={class:"input"},Ft=(0,s._)("label",null,"Amount:",-1),Yt={class:"text-center"},Ht=["disabled"],Xt={key:0,class:"error"};function Lt(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",null,[$t,(0,s._)("div",Et,[Zt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.user=e)},null,512),[[a.nr,r.user]])]),(0,s._)("div",Jt,[Ft,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.amount=e)},null,512),[[a.nr,r.amount]])]),(0,s._)("div",Yt,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>i.mint&&i.mint(...e)),disabled:i.isDisabled},"mint",8,Ht)]),r.error?((0,s.wg)(),(0,s.iD)("div",Xt,(0,m.zw)(r.error),1)):(0,s.kq)("",!0)])}var Kt={props:["account","token","decimals"],emits:["mint"],data(){return{user:"",amount:0,load:!1,error:null}},computed:{isDisabled(){return this.load||!this.user||Number(this.amount)<=0||isNaN(Number(this.amount))}},methods:{async mint(){this.load=!0,this.error=null;try{await Y(this.token,this.account,this.user,X(this.amount,this.decimals)),this.$emit("mint")}catch(e){this.error=e.message}this.load=!1}}};const en=(0,i.Z)(Kt,[["render",Lt]]);var tn=en,nn={components:{Mint:tn,Burn:Rt},props:["account","isAuditor"],data(){return{selectTokenAddress:"other",tokenAddress:S.asset,name:"",symbol:"",decimals:"",balance:"",tokens:[]}},computed:{balanceFormat(){return H(this.balance,this.decimals)}},created(){this.getTokens(),this.getInfo(),this.getBalance()},watch:{tokenAddress(){this.getInfo(),this.getBalance()},selectTokenAddress(e){this.tokenAddress="other"!==e?e:""},account(){this.getBalance()}},methods:{async getTokens(){this.tokens=["other"];const e=await Q(S.factory);for(const t of e.events){const e=await j(S.factory,this.account,t.transaction.inMessage.body);e&&this.tokens.push(t.data.root.toString())}},async getInfo(){this.name="",this.symbol="",this.decimals=0,this.balance=0;try{const e=await E(this.tokenAddress);this.name=e.name,this.symbol=e.symbol,this.decimals=e.decimals}catch(e){}},async getBalance(){this.balance=0;try{this.balance=await J(this.tokenAddress,this.account)}catch(e){}}}};const an=(0,i.Z)(nn,[["render",Ut]]);var sn=an,on={components:{AppHeader:ie,Account:te,AddAuditor:ut,Token:sn,Request:Dt,Ipfs:pe},data(){return{ready:!1,account:"",isOwner:!1,isAuditor:!1,error:null,ipfs:!1}},async created(){try{await N(),this.ready=!0}catch(e){this.error=e.message}}};const rn=(0,i.Z)(on,[["render",Xe]]);var un=rn;const ln=(0,s._)("div",{class:"container"},[(0,s._)("h1",null,"Page Not Found")],-1);function dn(e,t,n,a,o,r){const i=(0,s.up)("app-header");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),ln],64)}var cn={components:{AppHeader:ie}};const pn=(0,i.Z)(cn,[["render",dn]]);var mn=pn;const yn=[{path:"/",name:"main",component:un},{path:"/agent",name:"agent",component:Ze},{path:"/:pathMatch(.*)*",component:mn}],wn=(0,p.p7)({history:(0,p.r5)(),routes:yn});var bn=wn;(0,a.ri)(l).use(bn).use(c,{config:{Addresses:{Swarm:["/dns4/1.webrtcstar.aira.life/tcp/443/wss/p2p-webrtc-star/","/dns4/2.webrtcstar.aira.life/tcp/443/wss/p2p-webrtc-star/","/dns4/3.webrtcstar.aira.life/tcp/443/wss/p2p-webrtc-star/"]},Bootstrap:["/dns4/1.pubsub.aira.life/tcp/443/wss/ipfs/QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8","/dns4/2.pubsub.aira.life/tcp/443/wss/ipfs/QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9","/dns4/3.pubsub.aira.life/tcp/443/wss/ipfs/QmWZSKTEQQ985mnNzMqhGCrwQ1aTA6sxVsorsycQz9cQrw"]}}).mount("#app")},7420:function(){},5856:function(){},5883:function(){},2596:function(){},3897:function(){},5819:function(){},1265:function(){},5539:function(){}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,s,o){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],o=e[d][2];for(var i=!0,u=0;u<a.length;u++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,s,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var o=Object.create(null);n.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){r[e]=function(){return a[e]}}));return r["default"]=function(){return a},n.d(o,r),o}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,r=a[0],i=a[1],u=a[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(u)var d=u(n)}for(t&&t(a);l<r.length;l++)o=r[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self["webpackChunkdapp_dao_ipci_everscale"]=self["webpackChunkdapp_dao_ipci_everscale"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(7130)}));a=n.O(a)})();
//# sourceMappingURL=app.73e3e379.js.map